<!doctype html>
<html>

<head>
  <!-- Pico CSS -->
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
  <title>WhatsApp Web chat with unknown contact</title>
  <meta name="description" content="WhatsApp Web chat with unknown contact">
</head>

<body>
  <main class="container-fluid">
    <h1>WhatsApp Web: Chat with unknown contact</h1>
    <div class="section">
      <form id="whatsapp">
        <label for="numberField">International Phone number</label>
        <input type="text" id="numberField" name="phone" placeholder="Enter number" required>
        <small>Example of a Spanish number 34680217615</small>
        <button type="submit">Start chatting</button>
      </form>
    </div>

  </main>

</body>

<script>
  const openChat = (phone) => {
    let url = `https://web.whatsapp.com/send?phone=${phone}&text&type=phone_number`;
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
      url = `https://wa.me/${phone}`;
    }
    const link = document.createElement("a");
    link.setAttribute("href", url);
    document.body.append(link);
    link.click();
    document.body.removeChild(link);
  };

  const whatsAppForm = document.forms.whatsapp;

  whatsAppForm.addEventListener('submit', (event) => {
    event.preventDefault();
    const formElements = new FormData(whatsAppForm);
    const input = formElements.get('phone').replace(/\s/g, '');

    if (!input) {
      return null;
    }
    return openChat(input);
  });
</script>

</html>